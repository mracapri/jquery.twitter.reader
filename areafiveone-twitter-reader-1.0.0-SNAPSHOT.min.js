(function(c){var t=" ";var n=1;var s="http://twitter.com/statuses/user_timeline/";var p=".json";var a=0;var q=0;var g="<span/>";var f="<table/>";var d="<tr/>";var b="<hr/>";var m="command";var i="css";var j="twitterUser";var o="timeRefresh";var l="numberOfTwits";var e="result";var h=2000;var r={init:function(u){var v=c.fn.twitterReader.buildUi(u);c(v).appendTo(this)}};c.fn.twitterReader=function(v){var w=c.fn.twitterReader.defaults;var u=!v?w:v;if(u.hasOwnProperty(j)){for(key in c.fn.twitterReader.defaults){if(!u.hasOwnProperty(key)){u[key]=c.fn.twitterReader.defaults[key]}}return this.each(function(){return r.init.apply(c(this),[u])})}else{c(this).text("Plugin requiere usuario de twitter con timeline publico")}};function k(u){if(window.console&&window.console.log){window.console.log(u)}}c.fn.twitterReader.drawTwitsInContainer=function(v,u,w){c.each(v,function(x,z){w[x]=z;var B=c(g).text(c.fn.twitterReader.relativeTime(z.created_at));var A=c.fn.twitterReader.convertUrlToLink(z.text);var y=c(d).html(A).appendTo(u);c(B).appendTo(y);c(b).appendTo(y)})};c.fn.twitterReader.buildUi=function(v){var w=0;var y=new Array();var x=new Array();var u=c(f);c.fn.twitterReader.fetchTwits(v,function(z){c.fn.twitterReader.drawTwitsInContainer(z,u,y)});c(u).everyTime(v[o],function(){c.fn.twitterReader.fetchTwits(v,function(B){c.each(B,function(H,I){x[H]=I});var D=y[0].id;c.each(x,function(H,I){x[H]=I;if(x[H].id==D){w=H-0}});var G=x.length-w;var A=w-1;if(w>0){for(var E=G;E<x.length;E++,A--){c(u).find("tr").eq(E).hide(h).remove();var F=c(g).text(c.fn.twitterReader.relativeTime(x[A].created_at));var C=c.fn.twitterReader.convertUrlToLink(x[A].text);var z=c(d).html(C+t).fadeIn(h).prependTo(u).hide();c(F).appendTo(z);c(b).appendTo(z);c(z).fadeIn(h)}y=[];y=x;w=0;x=[]}else{c.fn.twitterReader.fetchTwits(v,function(H){c(u).find("tr").hide(h).remove();c.fn.twitterReader.drawTwitsInContainer(H,u,y)})}if(c.isFunction(v[e])){v.result()}})});return u};c.fn.twitterReader.fetchTwits=function(w,u){var v=s+w[j]+p+"?count="+w[l]+"&callback=?";k(v);c.getJSON(v,u)};c.fn.twitterReader.convertUrlToLink=function(u){return u.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(v){return v.link(v)})};c.fn.twitterReader.relativeTime=function(u){var x=1;var y=2;var A=5;var v=3;var z=u.split(t);u=z[x]+t+z[y]+", "+z[A]+t+z[v];var B=Date.parse(u);var w=(arguments.length>n)?arguments[n]:new Date();var D=parseInt((w.getTime()-B)/1000);D=D+(w.getTimezoneOffset()*60);var C="";if(D<60){C=" hace un minuto"}else{if(D<120){C=" hace un par de minutos"}else{if(D<(45*60)){C=" hace "+(parseInt(D/60)).toString()+" minutos"}else{if(D<(90*60)){C=" hace una hora"}else{if(D<(24*60*60)){C=" hace "+(parseInt(D/3600)).toString()+" horas"}else{if(D<(48*60*60)){C=" hace un dia"}else{C=" hace "+(parseInt(D/86400)).toString()+" dias"}}}}}}return C};c.fn.twitterReader.defaults={numberOfTwits:10,timeRefresh:30000,result:function(){}}})(jQuery);